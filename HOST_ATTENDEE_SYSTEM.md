# ğŸ¯ HOST vs ATTENDEE â€” Dual Experience System
# The feature that makes EventSync an event PLATFORM, not just a calendar

---

## WHY THIS IS A GAME-CHANGER

No competitor does this. Google Calendar, Calendly, Luma, Eventbrite â€” they all treat every user the same way on an event. But in reality:

**When you're HOSTING an event:**
- You're stressed about logistics, budget, guest list, venue
- You need a command center â€” a dashboard for THIS event
- You need to track who's coming, who hasn't responded
- You need to coordinate tasks with co-hosts
- You need to send updates to attendees
- You need a timeline for the day of the event
- After the event, you need to know what went well and what didn't

**When you're ATTENDING an event:**
- You need to know what to bring, what to wear
- You need directions and travel time
- You need to RSVP and possibly answer polls
- You want to see who else is going
- After the event, you want to save memories

These are TWO COMPLETELY DIFFERENT products inside one app. That's the magic.

---

## ARCHITECTURE

### Role Detection
```typescript
// The role is determined per event, not globally
type EventRole = 'host' | 'co-host' | 'attendee' | 'viewer'

// How roles are assigned:
// - host: event.created_by === current user
// - co-host: listed in event_cohosts table with role 'co-host'
// - attendee: has an invitation with status 'accepted' or 'maybe'
// - viewer: accessing via share link (no auth)
```

### UI Behavior
When a user opens an event detail page, the UI adapts based on their role:

**Host sees:** Event Command Center (management dashboard)
**Attendee sees:** Event Preparation View (what they need to know/do)
**Viewer sees:** Public Event Page (read-only, beautiful landing page)

---

## ğŸ¤ HOST EXPERIENCE â€” "Event Command Center"

The host's event detail page transforms into a full management dashboard with tabs:

### Tab 1: Overview
- Event hero card (themed by event type, with emoji + gradient)
- Quick stats: X confirmed / Y maybe / Z declined / W pending
- RSVP progress bar (visual: green for confirmed, yellow for maybe, red for declined, gray for pending)
- Next action prompt: "5 people haven't responded yet â€” send a reminder?"
- AI insight: "Based on 15 confirmed guests, here's an estimated budget update"

### Tab 2: Guest Management
**Guest List Table:**
| Name | Email | RSVP Status | Responded At | Role | Actions |
|------|-------|-------------|-------------|------|---------|
| Sarah Chen | sarah@... | âœ… Accepted | Jan 15 | Guest | Message / Remove |
| Mike Johnson | mike@... | â³ Pending | â€” | Guest | Remind / Remove |
| Alex Kim | alex@... | ğŸ¤” Maybe | Jan 16 | Co-host | Message |

**Actions:**
- Invite more people (email or share link)
- Send bulk reminder to non-responders
- Send update to all attendees
- Export guest list as CSV
- Set +1 policy (allow guests to bring someone)
- Set capacity limit + waitlist
- Assign roles: make someone a co-host

**RSVP Analytics:**
- Response rate over time (line chart)
- Response breakdown (donut chart)
- Average response time
- "3 people haven't opened the invite yet"

### Tab 3: Planning & Logistics (AI-Powered)
**Event Checklist (Smart):**
Auto-generated by AI based on event type, customizable by host.
```
Pre-Event:
  â˜‘ï¸ Book venue â€” Done (2 weeks before)
  â˜‘ï¸ Send invitations â€” Done (10 days before)
  â˜ Order catering â€” Due in 3 days
  â˜ Arrange decorations â€” Due in 5 days
  â˜ Create playlist â€” Due day before
  â˜ Print name tags â€” Due day before

Day of Event:
  â˜ Arrive 1 hour early for setup
  â˜ Test AV equipment
  â˜ Set up registration table
  â˜ Brief volunteers/co-hosts
  â˜ Welcome guests at door

Post-Event:
  â˜ Send thank-you messages
  â˜ Share photos with attendees
  â˜ Collect feedback
  â˜ Review expenses vs budget
```

Each task can have:
- Assignee (host or co-host)
- Due date (relative: "1 week before event" or absolute)
- Priority (high/medium/low)
- Notes
- Checkbox completion

**AI features:**
- "Generate checklist" button â†’ Claude creates based on event details
- "Add tasks for [category]" â†’ catering, decor, AV, etc.
- AI suggests tasks based on event type
- AI flags overdue tasks: "Catering order was due 2 days ago!"

### Tab 4: Budget Tracker
**Budget Dashboard:**
```
Total Budget: $2,500
â”œâ”€â”€ Spent: $1,800 (72%)
â”œâ”€â”€ Committed: $400 (16%)
â””â”€â”€ Remaining: $300 (12%)

Category Breakdown:
  ğŸ  Venue        $800 / $800   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
  ğŸ• Catering     $600 / $700   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  86%
  ğŸ¨ Decorations  $200 / $300   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  67%
  ğŸµ Entertainment $150 / $400   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘  38%
  ğŸ“¦ Supplies     $50 / $200    â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  25%
  ğŸ’° Contingency  $0 / $100     â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  0%
```

**Features:**
- Add expense items with category, amount, status (estimated/committed/paid)
- Receipt upload (image â†’ Supabase Storage)
- Per-person cost calculation: "Total / guests = $X per person"
- AI budget suggestion: "For a birthday party with 20 guests, typical budget is $500-$1500"
- Export budget as PDF/CSV
- Split expenses tracker (who owes what)

### Tab 5: Timeline / Run of Show
**Day-of Timeline:**
```
3:00 PM  ğŸš— Arrive at venue, begin setup
3:30 PM  ğŸ¨ Decorations team sets up
4:00 PM  ğŸ• Catering arrives, kitchen setup
4:30 PM  ğŸµ DJ/musician soundcheck
5:00 PM  ğŸ“‹ Final walkthrough
5:30 PM  ğŸšª Doors open, welcome guests
6:00 PM  ğŸ¤ Opening remarks (Host)
6:15 PM  ğŸ½ï¸ Dinner service begins
7:00 PM  ğŸ‚ Cake cutting / special moment
7:30 PM  ğŸ’ƒ Open dance floor / activities
9:00 PM  ğŸ“¸ Group photo
9:30 PM  ğŸ Gift opening (if applicable)
10:00 PM ğŸ‘‹ Event ends, cleanup begins
```

- Drag to reorder
- Assign people to each timeline item
- Mark items as "happening now" during event
- Share timeline with co-hosts and vendors
- AI generates initial timeline based on event type + duration

### Tab 6: Communications
**Message Center:**
- Send updates to all attendees (or filtered: confirmed only, pending only)
- Pre-built message templates:
  - "Reminder: Event is tomorrow!"
  - "Venue change notification"
  - "Event is cancelled"
  - "Thank you for attending!"
- Message history log
- Schedule messages in advance

**Announcement Board (visible to attendees):**
- Pin important updates
- "Parking info: Use the south lot, first 2 hours free"
- "Dress code reminder: Smart casual"
- Attendees see these on their event view

### Tab 7: Polls & Forms
- Create polls for group decisions
- "What should we have for dinner?" â†’ Pizza / Sushi / BBQ / Other
- "Which Saturday works best?" â†’ Date picker poll
- Set deadlines
- View real-time results
- Share as standalone link (no auth needed to respond)

### Tab 8: Post-Event (appears after event ends)
- **Feedback collection:** Send a feedback form to all attendees
- **Photo gallery:** Upload photos, attendees can contribute
- **Expense reconciliation:** Mark all expenses as final, see actual vs budget
- **Host reflection:** What went well, what to improve
- **Stats:** Attendance rate, engagement metrics
- **AI debrief:** "Based on the event details and 12/15 attendance rate, here are suggestions for next time..."

---

## ğŸ« ATTENDEE EXPERIENCE â€” "Event Preparation Hub"

The attendee's event detail page is focused on preparation and enjoyment:

### Section 1: Event Info Card
- Beautiful themed card (event type colors + emoji)
- Title, date/time, location with map
- Host info (name, avatar)
- RSVP status with easy toggle (Attending / Maybe / Declined)
- "Add to Calendar" buttons (Google, Outlook, Apple, .ics)
- QR code for the event

### Section 2: Who's Going?
- Attendee avatars: "Sarah, Mike, Alex, and 12 others are going"
- Expand to see full list
- See mutual connections highlighted
- "+1 option" if host allows

### Section 3: My Preparation Checklist
Auto-generated based on event type (from our DEFAULT_CHECKLISTS), plus AI personalization:
```
Your prep for "Tech Conference 2025":
  â˜ Charge laptop fully
  â˜ Pack charger and cables
  â˜ Download conference agenda
  â˜ Prepare elevator pitch
  â˜ Print business cards
  â˜ Set out-of-office reply
  â˜ Dress code: Business casual
  â˜ Check weather: 68Â°F, partly cloudy â€” bring a light layer
```

User can add their own items, check off completed ones. Progress bar at top.

### Section 4: AI Suggestions (Premium)
AI-generated cards based on event details:

**ğŸ§¥ What to Wear**
"Business casual for a tech conference â€” dark jeans or chinos with a collared shirt/blouse. Layer with a blazer or cardigan (convention centers are cold). Comfortable shoes â€” you'll be walking a lot."

**ğŸ’ What to Bring**
- Laptop + charger
- Business cards (50+)
- Water bottle
- Notebook + pen
- Portable battery pack
- Breath mints

**ğŸš— Getting There**
"Drive: 35 min via Highway 101. Parking: South Garage, $15/day. Transit: Caltrain to 4th & King, then 10 min walk. Arrive by 8:30 AM to get good seats for the 9 AM keynote."

**ğŸŒ¤ï¸ Weather**
"68Â°F, partly cloudy. UV index: 4 (moderate). No rain expected. Bring sunglasses for the outdoor lunch."

**ğŸ Gift / Social**
"No gift needed for a conference. Tip: Exchange contact info with people you meet â€” follow up within 48 hours."

### Section 5: Host Updates / Announcements
- See pinned messages from the host
- "Parking update: Use the south lot!"
- "Schedule change: Keynote moved to 10 AM"
- Chronological feed of updates

### Section 6: Event Polls
- Answer any open polls from the host
- See results (if host allows)
- "Vote by Friday: Which workshop do you prefer?"

### Section 7: Post-Event Reflection (appears after event ends)
- Rate the event (1-5 stars + mood emoji)
- Write thoughts: "What did you enjoy? What would you change?"
- Upload photos
- Private â€” only you can see your reflection (unless you share)
- "Highlight moment" â€” save one memory from the event

### Section 8: Smart Reminders (Timeline)
Automated reminders leading up to the event:
```
1 week before:  "Tech Conference is next week! Start preparing."
3 days before:  "Have you packed everything? Check your prep list."
1 day before:   "Conference is tomorrow! Here's your weather update."
2 hours before: "Leave in 30 min to arrive on time."
Event time:     "Have a great time at the conference! ğŸ‰"
1 day after:    "How was the conference? Add your reflection."
```

---

## ğŸ¤ CO-HOST EXPERIENCE

Co-hosts get a mix of host and attendee features:
- Access to Guest Management (view + invite, not remove)
- Access to Checklist (can see assigned tasks, mark complete)
- Access to Timeline (view, suggest changes)
- Access to Communications (can post announcements)
- Access to Budget (view only, unless host grants edit)
- Can be assigned tasks by the host
- Their own preparation view for the event

---

## ğŸ‘ï¸ VIEWER EXPERIENCE (Share Link)

Non-authenticated viewers via share link see:
- Beautiful landing page (Luma-style)
- Event details (title, date, location, description)
- Map embed
- "Add to Calendar" buttons
- RSVP form (email + name + status)
- Public announcements from host
- Public polls (if any)
- QR code to save/share
- Attendee count (X going / Y maybe)
- NO access to: guest list details, budget, host tools, AI features

---

## DATABASE ADDITIONS

```sql
-- Co-hosts table
CREATE TABLE event_cohosts (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  event_id UUID REFERENCES events(id) ON DELETE CASCADE,
  user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,
  permissions JSONB DEFAULT '{
    "can_manage_guests": true,
    "can_edit_event": false,
    "can_manage_budget": false,
    "can_send_messages": true,
    "can_manage_tasks": true,
    "can_manage_polls": true
  }',
  invited_at TIMESTAMPTZ DEFAULT NOW(),
  accepted_at TIMESTAMPTZ,
  UNIQUE(event_id, user_id)
);

-- Event Tasks (for host planning)
CREATE TABLE event_tasks (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  event_id UUID REFERENCES events(id) ON DELETE CASCADE,
  title TEXT NOT NULL,
  description TEXT,
  assignee_id UUID REFERENCES profiles(id) ON DELETE SET NULL,
  due_type TEXT DEFAULT 'relative' CHECK (due_type IN ('relative', 'absolute')),
  due_relative TEXT, -- '2 weeks before', '1 day before', 'day of'
  due_date TIMESTAMPTZ,
  priority TEXT DEFAULT 'medium' CHECK (priority IN ('high', 'medium', 'low')),
  category TEXT, -- 'venue', 'catering', 'decor', 'logistics', 'content', 'communications'
  is_completed BOOLEAN DEFAULT false,
  completed_at TIMESTAMPTZ,
  completed_by UUID REFERENCES profiles(id),
  sort_order INT DEFAULT 0,
  created_by UUID REFERENCES profiles(id),
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Event Budget Items
CREATE TABLE event_budget_items (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  event_id UUID REFERENCES events(id) ON DELETE CASCADE,
  category TEXT NOT NULL, -- 'venue', 'catering', 'decoration', 'entertainment', 'supplies', 'transportation', 'other'
  item_name TEXT NOT NULL,
  estimated_amount DECIMAL(10,2) NOT NULL DEFAULT 0,
  actual_amount DECIMAL(10,2),
  status TEXT DEFAULT 'estimated' CHECK (status IN ('estimated', 'committed', 'paid')),
  paid_by UUID REFERENCES profiles(id),
  receipt_url TEXT, -- Supabase Storage URL
  notes TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Event Timeline (Run of Show)
CREATE TABLE event_timeline_items (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  event_id UUID REFERENCES events(id) ON DELETE CASCADE,
  time TEXT NOT NULL, -- '3:00 PM'
  title TEXT NOT NULL,
  description TEXT,
  assignee_id UUID REFERENCES profiles(id),
  icon TEXT, -- emoji
  status TEXT DEFAULT 'upcoming' CHECK (status IN ('upcoming', 'in_progress', 'completed', 'skipped')),
  sort_order INT DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Event Announcements (host â†’ attendees)
CREATE TABLE event_announcements (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  event_id UUID REFERENCES events(id) ON DELETE CASCADE,
  author_id UUID REFERENCES profiles(id) ON DELETE SET NULL,
  title TEXT NOT NULL,
  content TEXT NOT NULL,
  is_pinned BOOLEAN DEFAULT false,
  visibility TEXT DEFAULT 'all' CHECK (visibility IN ('all', 'confirmed', 'cohosts')),
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Event Messages (host bulk messages to guests)
CREATE TABLE event_messages (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  event_id UUID REFERENCES events(id) ON DELETE CASCADE,
  sender_id UUID REFERENCES profiles(id) ON DELETE SET NULL,
  recipient_filter TEXT DEFAULT 'all' CHECK (recipient_filter IN ('all', 'confirmed', 'pending', 'maybe', 'cohosts')),
  subject TEXT NOT NULL,
  body TEXT NOT NULL,
  sent_at TIMESTAMPTZ DEFAULT NOW(),
  delivery_count INT DEFAULT 0
);

-- Event Photos (shared gallery)
CREATE TABLE event_photos (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  event_id UUID REFERENCES events(id) ON DELETE CASCADE,
  uploaded_by UUID REFERENCES profiles(id) ON DELETE SET NULL,
  image_url TEXT NOT NULL,
  caption TEXT,
  is_cover BOOLEAN DEFAULT false, -- Host can pick cover photo
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- RLS for new tables
ALTER TABLE event_cohosts ENABLE ROW LEVEL SECURITY;
ALTER TABLE event_tasks ENABLE ROW LEVEL SECURITY;
ALTER TABLE event_budget_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE event_timeline_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE event_announcements ENABLE ROW LEVEL SECURITY;
ALTER TABLE event_messages ENABLE ROW LEVEL SECURITY;
ALTER TABLE event_photos ENABLE ROW LEVEL SECURITY;

-- Policies: Event hosts and co-hosts can manage, attendees can view relevant items
CREATE POLICY "Hosts manage cohosts" ON event_cohosts FOR ALL USING (
  event_id IN (SELECT id FROM events WHERE created_by = auth.uid())
);
CREATE POLICY "Cohosts can view own" ON event_cohosts FOR SELECT USING (user_id = auth.uid());

CREATE POLICY "Hosts/cohosts manage tasks" ON event_tasks FOR ALL USING (
  event_id IN (SELECT id FROM events WHERE created_by = auth.uid())
  OR event_id IN (SELECT event_id FROM event_cohosts WHERE user_id = auth.uid())
);

CREATE POLICY "Hosts manage budget" ON event_budget_items FOR ALL USING (
  event_id IN (SELECT id FROM events WHERE created_by = auth.uid())
);
CREATE POLICY "Cohosts view budget" ON event_budget_items FOR SELECT USING (
  event_id IN (SELECT event_id FROM event_cohosts WHERE user_id = auth.uid())
);

CREATE POLICY "Hosts manage timeline" ON event_timeline_items FOR ALL USING (
  event_id IN (SELECT id FROM events WHERE created_by = auth.uid())
  OR event_id IN (SELECT event_id FROM event_cohosts WHERE user_id = auth.uid())
);

CREATE POLICY "Attendees view announcements" ON event_announcements FOR SELECT USING (true);
CREATE POLICY "Hosts create announcements" ON event_announcements FOR INSERT WITH CHECK (
  event_id IN (SELECT id FROM events WHERE created_by = auth.uid())
  OR event_id IN (SELECT event_id FROM event_cohosts WHERE user_id = auth.uid())
);

CREATE POLICY "Hosts send messages" ON event_messages FOR ALL USING (
  event_id IN (SELECT id FROM events WHERE created_by = auth.uid())
);

CREATE POLICY "Anyone can upload photos" ON event_photos FOR INSERT WITH CHECK (true);
CREATE POLICY "Anyone can view photos" ON event_photos FOR SELECT USING (true);
CREATE POLICY "Uploaders manage own photos" ON event_photos FOR ALL USING (uploaded_by = auth.uid());
```

---

## UI DESIGN â€” THE TWO VIEWS

### Host View â€” Event Command Center
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‚ Sarah's 30th Birthday â€” COMMAND CENTER       â”‚
â”‚ Sat, Feb 22, 2025 Â· 7:00 PM - 11:00 PM         â”‚
â”‚ 742 Evergreen Terrace Â· Birthday Party          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ 15 ğŸ‘¥   â”‚ â”‚ $1,200  â”‚ â”‚ 8/14 âœ… â”‚ â”‚ 3 ğŸ“‹ â”‚â”‚
â”‚  â”‚ Invited â”‚ â”‚ Budget  â”‚ â”‚ Tasks   â”‚ â”‚ Polls â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                 â”‚
â”‚  [Overview] [Guests] [Planning] [Budget]        â”‚
â”‚  [Timeline] [Comms] [Polls] [Post-Event]        â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€ RSVP Progress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ 73% responded    â”‚      â”‚
â”‚  â”‚ 8 going Â· 2 maybe Â· 1 declined Â· 4 â³â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                 â”‚
â”‚  âš ï¸ 4 people haven't responded                  â”‚
â”‚  [Send Reminder] [View Guest List]              â”‚
â”‚                                                 â”‚
â”‚  ğŸ’¡ AI: "Catering order due in 2 days.          â”‚
â”‚     Based on 10 confirmed, order for 13         â”‚
â”‚     (factor in last-minute RSVPs)"              â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Attendee View â€” Preparation Hub
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‚ Sarah's 30th Birthday                        â”‚
â”‚ Hosted by Mike Johnson                           â”‚
â”‚ Sat, Feb 22, 2025 Â· 7:00 PM - 11:00 PM         â”‚
â”‚ 742 Evergreen Terrace                            â”‚
â”‚                                                 â”‚
â”‚  Your RSVP: [âœ… Going â–¾]                        â”‚
â”‚  [Add to Calendar â–¾]  [Get Directions]           â”‚
â”‚                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ‘¥ Who's Going                                  â”‚
â”‚  Sarah, Alex, Jordan, + 5 others                â”‚
â”‚                                                 â”‚
â”‚  ğŸ“‹ Your Prep Checklist          [4/7 done]     â”‚
â”‚  âœ… Buy birthday gift                            â”‚
â”‚  âœ… Write birthday card                          â”‚
â”‚  âœ… Pick out outfit                              â”‚
â”‚  âœ… Confirm +1 availability                      â”‚
â”‚  â˜  Wrap the gift                               â”‚
â”‚  â˜  Get cash for splitting Uber                 â”‚
â”‚  â˜  Charge phone for photos                     â”‚
â”‚                                                 â”‚
â”‚  ğŸ¤– AI Suggestions                    [Premium] â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ§¥ What to Wear                      â”‚      â”‚
â”‚  â”‚ Casual party outfit â€” jeans and a    â”‚      â”‚
â”‚  â”‚ nice top. Theme is 90s throwback!    â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ ğŸ Gift Ideas                         â”‚      â”‚
â”‚  â”‚ Budget $30-50: candle set, book,     â”‚      â”‚
â”‚  â”‚ custom Spotify plaque, or gift card  â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚ ğŸš— Getting There                      â”‚      â”‚
â”‚  â”‚ 25 min drive. Leave by 6:30 PM.     â”‚      â”‚
â”‚  â”‚ Street parking available.            â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                 â”‚
â”‚  ğŸ“¢ Updates from Host                            â”‚
â”‚  "Theme is 90s throwback! Dress accordingly ğŸ•º"  â”‚
â”‚  "Parking: use the driveway, fits 4 cars"       â”‚
â”‚                                                 â”‚
â”‚  ğŸ—³ï¸ Open Polls                                   â”‚
â”‚  "What cake flavor? (Vote by Thu)"              â”‚
â”‚  â—‹ Chocolate  â—‹ Vanilla  â—‹ Red Velvet          â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## COMPONENT STRUCTURE

```
src/components/events/
â”œâ”€â”€ host/
â”‚   â”œâ”€â”€ EventCommandCenter.tsx      # Main host layout with tabs
â”‚   â”œâ”€â”€ HostOverview.tsx            # Stats cards + RSVP progress + AI insights
â”‚   â”œâ”€â”€ GuestManager.tsx            # Full guest table with actions
â”‚   â”œâ”€â”€ GuestInviteDialog.tsx       # Invite new guests
â”‚   â”œâ”€â”€ RSVPProgressBar.tsx         # Visual RSVP breakdown
â”‚   â”œâ”€â”€ TaskBoard.tsx               # Checklist with categories + assignees
â”‚   â”œâ”€â”€ TaskItem.tsx                # Single task with checkbox
â”‚   â”œâ”€â”€ BudgetTracker.tsx           # Budget dashboard + expense list
â”‚   â”œâ”€â”€ BudgetCategoryChart.tsx     # Visual budget breakdown
â”‚   â”œâ”€â”€ AddExpenseDialog.tsx        # Add/edit expense item
â”‚   â”œâ”€â”€ TimelineEditor.tsx          # Day-of timeline / run of show
â”‚   â”œâ”€â”€ TimelineItem.tsx            # Single timeline entry
â”‚   â”œâ”€â”€ AnnouncementComposer.tsx    # Write + send announcements
â”‚   â”œâ”€â”€ MessageCenter.tsx           # Bulk message to guests
â”‚   â”œâ”€â”€ PostEventDashboard.tsx      # Post-event analytics + feedback
â”‚   â””â”€â”€ PhotoGallery.tsx            # Upload + view event photos
â”œâ”€â”€ attendee/
â”‚   â”œâ”€â”€ AttendeeEventView.tsx       # Main attendee layout
â”‚   â”œâ”€â”€ RSVPToggle.tsx              # Quick RSVP status change
â”‚   â”œâ”€â”€ PrepChecklist.tsx           # Personal preparation checklist
â”‚   â”œâ”€â”€ AISuggestions.tsx           # What to wear, bring, travel, weather
â”‚   â”œâ”€â”€ WhoIsGoing.tsx              # Attendee avatar list
â”‚   â”œâ”€â”€ HostAnnouncements.tsx       # Feed of host updates
â”‚   â”œâ”€â”€ AttendeePolls.tsx           # Vote on open polls
â”‚   â””â”€â”€ PostEventReflection.tsx     # Rate + reflect after event
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ EventHeroCard.tsx           # Themed event header (used by all roles)
â”‚   â”œâ”€â”€ AddToCalendarMenu.tsx       # Google / Outlook / Apple / .ics
â”‚   â”œâ”€â”€ LocationMap.tsx             # Map embed for location
â”‚   â”œâ”€â”€ EventQRCode.tsx             # QR code display
â”‚   â””â”€â”€ EventRoleBadge.tsx          # "Host" / "Co-host" / "Attendee" badge
â””â”€â”€ viewer/
    â”œâ”€â”€ PublicEventPage.tsx          # Luma-style landing page
    â””â”€â”€ PublicRSVPForm.tsx           # RSVP without account
```

---

## AI PROMPTS FOR HOST/ATTENDEE

### Host Planning Prompt Addition
```
When the user is the HOST of an event, you can help with:
- Generating a complete planning checklist with relative deadlines
- Suggesting budget allocations based on guest count and event type
- Creating a day-of timeline/run-of-show
- Drafting announcements and messages to attendees
- Estimating catering quantities: "For 20 guests, order for 25 (buffer for +1s and extra)"
- Suggesting how to handle low RSVP rates: "Send a personal reminder to the 5 who haven't responded"
- Post-event: analyzing feedback and suggesting improvements for next time
```

### Attendee Preparation Prompt Addition
```
When the user is an ATTENDEE, you can help with:
- Generating a personalized preparation checklist
- Suggesting what to wear based on event type, dress code, weather
- Recommending gifts based on event type and relationship (birthday, wedding, housewarming)
- Calculating travel time and suggesting departure time
- Weather-appropriate advice (bring umbrella, sunscreen, jacket)
- Social etiquette tips for the event type
- Post-event: prompting for reflection and memory capture
```

---

## TYPES ADDITIONS

```typescript
// Add to types/events.ts

export type EventRole = 'host' | 'co-host' | 'attendee' | 'viewer'

export interface EventCohost {
  id: string
  event_id: string
  user_id: string
  permissions: CohostPermissions
  invited_at: string
  accepted_at: string | null
  profile?: Profile
}

export interface CohostPermissions {
  can_manage_guests: boolean
  can_edit_event: boolean
  can_manage_budget: boolean
  can_send_messages: boolean
  can_manage_tasks: boolean
  can_manage_polls: boolean
}

export interface EventTask {
  id: string
  event_id: string
  title: string
  description: string | null
  assignee_id: string | null
  due_type: 'relative' | 'absolute'
  due_relative: string | null
  due_date: string | null
  priority: 'high' | 'medium' | 'low'
  category: string | null
  is_completed: boolean
  completed_at: string | null
  completed_by: string | null
  sort_order: number
  created_by: string
  created_at: string
  assignee?: Profile
}

export interface EventBudgetItem {
  id: string
  event_id: string
  category: string
  item_name: string
  estimated_amount: number
  actual_amount: number | null
  status: 'estimated' | 'committed' | 'paid'
  paid_by: string | null
  receipt_url: string | null
  notes: string | null
  created_at: string
}

export interface EventTimelineItem {
  id: string
  event_id: string
  time: string
  title: string
  description: string | null
  assignee_id: string | null
  icon: string | null
  status: 'upcoming' | 'in_progress' | 'completed' | 'skipped'
  sort_order: number
  created_at: string
  assignee?: Profile
}

export interface EventAnnouncement {
  id: string
  event_id: string
  author_id: string
  title: string
  content: string
  is_pinned: boolean
  visibility: 'all' | 'confirmed' | 'cohosts'
  created_at: string
  author?: Profile
}

export interface EventPhoto {
  id: string
  event_id: string
  uploaded_by: string
  image_url: string
  caption: string | null
  is_cover: boolean
  created_at: string
  uploader?: Profile
}

export interface BudgetSummary {
  total_budget: number
  total_spent: number
  total_committed: number
  total_estimated: number
  remaining: number
  per_person: number
  categories: {
    name: string
    estimated: number
    actual: number
    percentage: number
  }[]
}

export interface RSVPSummary {
  total_invited: number
  accepted: number
  declined: number
  maybe: number
  pending: number
  response_rate: number // percentage
}
```

---

## WHAT THIS MEANS FOR COMPETITION

When judges see two tabs â€” HOST and ATTENDEE â€” with completely different UIs on the same event, they'll understand this isn't a toy calendar app. This is a PLATFORM.

The host view alone has features that compete with standalone tools:
- Guest management â†’ competes with Partiful, Paperless Post
- Budget tracking â†’ competes with Splitwise, basic spreadsheets
- Task management â†’ competes with Todoist, Asana (for events)
- Timeline builder â†’ competes with event planning software

All in one unified experience. That's the pitch.

---

## QUICK WIN ORDER (for competition)

If you only have time for SOME of this:

### Must build (5 min each):
1. Role detection (host vs attendee)
2. Different UI layout per role
3. RSVP progress bar on host view
4. Basic task checklist on host view
5. Prep checklist on attendee view

### If time allows (5 min each):
6. Guest management table
7. Budget tracker
8. Timeline editor
9. AI suggestions for attendee
10. Announcements/updates from host

### Polish (2 min each):
11. Photo gallery
12. Post-event dashboard
13. Co-host roles
14. Message center
